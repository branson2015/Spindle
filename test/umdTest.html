<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Spindle Test</title>
    <script src="../dist/spindle.umd.js"></script>
  </head>
  <body>
    <div class='className3'>
      <p id='someId'></p>                             <!--Links to Property1-->
      <input class='className', value='unmodified'>   <!--Links to Property2-->
      <div >property3</div>                           <!--Links to Property3 and property4.subproperty1-->
      <div class='className0'></div>                  <!--Links to Property3-->
      <p class='className2'></p>                      <!--Links to Property3 and property4.subproperty2-->
      <p id="id1"></p>                                <!--Links to Property3 and property4.subproperty3-->
    </div>

    <script>
      
     //arbitrarily complicated Object
var obj = {
	property1: 'value 1',	
	property2: undefined,
	property3: [],	//defaults to one-to-one binding
	property4: {
		arr: [
			{subProperty1: 'value 4-1'},
			{subProperty2: 'value 4-2'},
			'value 4-3'
		]
	}
}

//mapping descr
var mapping = {		
	property1: document.getElementById('someId'),		//one to one binding
	property2: '.className',							//CSS-Selector
	property3: document.getElementsByTagName('div')[1],
	property4: {
		arr: [
			{subProperty1: Spindle.Link({'elements': '.className0', 'types': 'innerHTML', 'callbacks': (v)=>{console.log(v);}})}
		]
	},
	//one-to-many binding to .className2's innerHTML attribute with callback function on any value change
	'property4.arr[1].subProperty2': Spindle.Link(document.getElementsByClassName('className2'), 'innerHTML', (v)=>{console.log(v)}),
	'property4.arr[2]': '#id1'
}

var scopes = document.getElementsByClassName('className3');

Spindle.Bind({'object': obj, 'mapping': mapping, 'scopes': scopes, 'modifiable': false}) 

    </script>
  </body>
</html>